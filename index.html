<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>ì§ì›ë³„ ê¸‰ì—¬ ìë™ ê³„ì‚°ê¸°</title>
Â  Â  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
Â  Â  <style>
Â  Â  Â  Â  /* ------------------ CSS ìŠ¤íƒ€ì¼ë§ (ìµœì¢…) ------------------ */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-color: #0d9488;
Â  Â  Â  Â  Â  Â  --secondary-color: #f0fdfa;
Â  Â  Â  Â  Â  Â  --border-color: #e2e8f0;
Â  Â  Â  Â  Â  Â  --header-color: #1e293b;
Â  Â  Â  Â  Â  Â  --weekend-color-sat: #3b82f6;
Â  Â  Â  Â  Â  Â  --weekend-color-sun: #ef4444;
Â  Â  Â  Â  Â  Â  --total-sum-bg: #fffbe6;
Â  Â  Â  Â  Â  Â  --total-sum-color: #d97706;
Â  Â  Â  Â  Â  Â  --pay-box-bg: #f8fafc;
Â  Â  Â  Â  }
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Pretendard', sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #f4f7f6;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .main-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 30px;
Â  Â  Â  Â  Â  Â  width: 95%;
Â  Â  Â  Â  Â  Â  max-width: 1400px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
Â  Â  Â  Â  }
Â  Â  Â  Â  #input-area { width: 55%; }
Â  Â  Â  Â  #output-area { width: 40%; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* íƒ­ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  .tabs { display: flex; margin-bottom: 20px; border-bottom: 3px solid var(--border-color); }
Â  Â  Â  Â  .tab-button {
Â  Â  Â  Â  Â  Â  padding: 12px 20px; cursor: pointer; border: none; background-color: #f8fafc;
Â  Â  Â  Â  Â  Â  color: #475569; font-weight: 600; font-size: 16px; border-top-left-radius: 8px;
Â  Â  Â  Â  Â  Â  border-top-right-radius: 8px; transition: all 0.2s; margin-right: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tab-button.active {
Â  Â  Â  Â  Â  Â  background-color: #ffffff; color: var(--primary-color); border: 3px solid var(--border-color); border-bottom: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-tab { background-color: #e0f2f1; color: #0d9488; font-size: 1.1em; font-weight: 800; margin-right: 15px; }
Â  Â  Â  Â  .summary-tab.active { background-color: #ccfbf1; color: #0f766e; }
Â  Â  Â  Â  .settings-tab { margin-right: 15px; }

Â  Â  Â  Â  /* ì…ë ¥ ì˜ì—­ ë° ë“œë¡­ë‹¤ìš´ */
Â  Â  Â  Â  .input-header {Â 
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; font-weight: 800; color: var(--header-color);Â 
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid var(--border-color); padding-bottom: 10px; margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .input-header h2 { margin: 0; font-size: 1.5em; flex-grow: 1; }
Â  Â  Â  Â  .input-header select { padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; font-size: 16px; margin-left: 10px;}
Â  Â  Â  Â  .tab-content { display: none; }
Â  Â  Â  Â  .tab-content.active { display: block; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ë‹¬ë ¥ í…Œì´ë¸” ìŠ¤íƒ€ì¼ ìœ ì§€ */
Â  Â  Â  Â  #time-input-table { width: 100%; border-collapse: collapse; text-align: center; font-size: 14px; }
Â  Â  Â  Â  #time-input-table th, #time-input-table td { padding: 8px 4px; border: 1px solid var(--border-color); }
Â  Â  Â  Â  .day-label { width: 10%; font-weight: 600; }
Â  Â  Â  Â  .day-label.sun { color: var(--weekend-color-sun); }
Â  Â  Â  Â  .day-label.sat { color: var(--weekend-color-sat); }
Â  Â  Â  Â  #time-input-table td:first-child, #time-input-table td:nth-child(2) { width: 10%; }
Â  Â  Â  Â  #time-input-table input { width: 90%; padding: 4px; border: 1px solid #cbd5e1; border-radius: 4px; text-align: center; font-size: 13px; }

Â  Â  Â  Â  /* ì„¤ì • í…Œì´ë¸” ìŠ¤íƒ€ì¼ ìœ ì§€ */
Â  Â  Â  Â  #settings-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 16px; }
Â  Â  Â  Â  #settings-table th, #settings-table td { padding: 12px 15px; border: 1px solid var(--border-color); text-align: left; }
Â  Â  Â  Â  #settings-table th { background-color: var(--secondary-color); font-weight: 700; }
Â  Â  Â  Â  #settings-table input { width: 90%; padding: 8px; border: 1px solid #cbd5e1; border-radius: 4px; font-size: 16px; text-align: right;}
Â  Â  Â  Â  #settings-table td:nth-child(3) { font-weight: 800; color: var(--primary-color); text-align: right; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ------------------ A. ì¢…í•© ìš”ì•½ í…Œì´ë¸” ìŠ¤íƒ€ì¼ (ìº¡ì²˜ 1 ë°˜ì˜) ------------------ */
Â  Â  Â  Â  #summary-view-content .input-header {Â 
Â  Â  Â  Â  Â  Â  justify-content: flex-end;Â 
Â  Â  Â  Â  Â  Â  padding-bottom: 0;
Â  Â  Â  Â  Â  Â  border-bottom: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  #summary-view-content .title-display {Â 
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  padding-bottom: 10px;
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed var(--border-color);
Â  Â  Â  Â  }
Â  Â  Â  Â  #summary-data-table {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #summary-data-table th, #summary-data-table td {
Â  Â  Â  Â  Â  Â  padding: 12px 15px;
Â  Â  Â  Â  Â  Â  border: 1px solid var(--border-color);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #summary-data-table thead th {
Â  Â  Â  Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  }
Â  Â  Â  Â  #summary-data-table tbody tr:last-child {
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  background-color: var(--total-sum-bg);
Â  Â  Â  Â  Â  Â  color: var(--total-sum-color);
Â  Â  Â  Â  Â  Â  border-top: 3px solid var(--total-sum-color);
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ------------------ B. ì§ì› ìƒì„¸ ëª…ì„¸í‘œ (ìº¡ì²˜ 2 ë°˜ì˜) ------------------ */
Â  Â  Â  Â  #employee-detail-view h2 {
Â  Â  Â  Â  Â  Â  font-weight: 800; color: var(--header-color); border-bottom: 2px solid var(--border-color); padding-bottom: 10px; margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .employee-info {
Â  Â  Â  Â  Â  Â  font-size: 1.5em; font-weight: 800; color: var(--primary-color); margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed var(--border-color);
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-pay-table {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-pay-table th, #detail-pay-table td {
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border: 1px solid var(--border-color);
Â  Â  Â  Â  Â  Â  font-size: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-pay-table th {
Â  Â  Â  Â  Â  Â  background-color: var(--pay-box-bg);
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  width: 40%;
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-pay-table td {
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: var(--header-color);
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-box {
Â  Â  Â  Â  Â  Â  background-color: #f0fdfa;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  border: 1px solid var(--border-color);
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .summary-row span:last-child {
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  }
Â  Â  Â  Â  .total-pay-row th, .total-pay-row td {
Â  Â  Â  Â  Â  Â  background-color: #ccfbf1 !important;
Â  Â  Â  Â  Â  Â  font-weight: 900 !important;
Â  Â  Â  Â  Â  Â  color: #0f766e !important;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ------------------ C. ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ì¶”ê°€ ------------------ */
Â  Â  Â  Â  .modal {
Â  Â  Â  Â  Â  Â  display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow: auto;
Â  Â  Â  Â  Â  Â  background-color: rgba(0,0,0,0.4); /* ë°°ê²½ ì–´ë‘¡ê²Œ ì²˜ë¦¬ */
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content {
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 350px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-content h3 {
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .modal-content p {
Â  Â  Â  Â  Â  Â  font-size: 1.0em;
Â  Â  Â  Â  Â  Â  color: var(--header-color);
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-button {
Â  Â  Â  Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #07796d;
Â  Â  Â  Â  }

/* ------------------ Z. ë°ì´í„° ì €ì¥ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ì¶”ê°€ëœ ë¶€ë¶„) ------------------ */

Â  Â  #save-button {
Â  Â  Â  Â  /* í˜„ì¬ ì´ë¯¸ì§€ì™€ ë‹¬ë¦¬ ëˆˆì— ë„ëŠ” ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½ */
Â  Â  Â  Â  background-color: #f97316; /* ì£¼í™©ìƒ‰ */
Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 20px; /* ë‘¥ê·¼ ëª¨ì–‘ */
Â  Â  Â  Â  padding: 12px 30px; /* íŒ¨ë”© ì¦ê°€ */
Â  Â  Â  Â  font-size: 1.0em; /* ê¸€ê¼´ í¬ê¸° ì¦ê°€ */
Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  transition: all 0.2s;
Â  Â  }

Â  Â  #save-button:hover {
Â  Â  Â  Â  background-color: #ea580c; /* í˜¸ë²„ ì‹œ ì§„í•˜ê²Œ */
Â  Â  Â  Â  transform: translateY(-1px); /* ì‚´ì§ ë– ì˜¤ë¥´ëŠ” íš¨ê³¼ */
Â  Â  Â  Â  box-shadow: 0 6px 10px rgba(249, 115, 22, 0.4);
Â  Â  }
Â  Â  Â  Â Â 

Â  Â  </style>
</head>
<body>
Â  Â  <h1>âœ… ì§ì›ë³„ & ì¢…í•© ê¸‰ì—¬ ìë™ ê³„ì‚°ê¸° </h1>Â 

Â  Â  <div class="tabs">
Â  Â  Â  Â  <button class="tab-button summary-tab" onclick="showSummary()">ì¢…í•© ìš”ì•½</button>
Â  Â  Â  Â  <button class="tab-button settings-tab" onclick="showSettings()">ì„¤ì •</button>
Â  Â  Â  Â  <button class="tab-button" onclick="changeEmployee('ì´íš¨ì„±')">ì´íš¨ì„±</button>
Â  Â  Â  Â  <button class="tab-button" onclick="changeEmployee('ì •ìˆ˜ì—°')">ì •ìˆ˜ì—°</button>
Â  Â  Â  Â  <button class="tab-button" onclick="changeEmployee('ì‹ ì¤€ì‹')">ì‹ ì¤€ì‹</button>
Â  Â  Â  Â  <button class="tab-button" onclick="changeEmployee('ë°•ìˆ˜í˜„')">ë°•ìˆ˜í˜„</button>
Â  Â  </div>

Â  Â  <div class="main-container">
Â  Â  Â  Â  <div id="input-area" class="container">
Â  Â  Â  Â  Â  Â  <div class="save-section">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="save-button" onclick="saveData()">ë°ì´í„° ì €ì¥ (ë‚´ PC)</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="employee-input-view" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="input-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ—“ ê·¼íƒœ ê¸°ë¡ ì…ë ¥</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="year-select" onchange="changeYear()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2025">2025ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2026">2026ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2027">2027ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="month-select" onchange="changeMonth()"></select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: red;">* ì¶œê·¼/í‡´ê·¼ ì‹œê°„ì„ **HH:MM** í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: 09:00, 18:30)</p>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <table id="time-input-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 10%;">ë‚ ì§œ</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 10%;">ìš”ì¼</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 25%;">ì¶œê·¼</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 25%;">í‡´ê·¼</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 30%;">ì¼ë³„ ê·¼ë¬´</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="summary-view-content" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="input-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="summary-year-select" onchange="changeSummaryYear()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2025">2025ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2026">2026ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="2027">2027ë…„</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="summary-month-select" onchange="changeSummaryMonth()"></select>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="title-display">ê·¼ë¬´ ëŒ€ìƒ ì›”: <span id="summary-month-display">2025ë…„ 1ì›”</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  <table id="summary-data-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ì§ì› ì´ë¦„</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ì´ ê·¼ë¬´ ì‹œê°„</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ì´ ì¶œê·¼ ì¼ìˆ˜</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ì´ ì§€ê¸‰ í•©ê³„</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="summary-table-body">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="settings-input-view" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="input-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>âš™ï¸ ì—°ë„ë³„ ìµœì €ì‹œê¸‰ ì„¤ì •</h2>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: red;">* ì‹œê¸‰ì„ ì…ë ¥í•˜ì‹œë©´ ë¶„ë‹¹ ê¸ˆì•¡ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤. </p>
Â  Â  Â  Â  Â  Â  Â  Â  <table id="settings-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>ì—°ë„</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 35%;">ìµœì €ì‹œê¸‰ (ì›)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="width: 35%;">ë¶„ë‹¹ ê¸ˆì•¡ (ì›)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="settings-table-body">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: 1.1em; color: #ef4444; font-weight: 700; margin-top: 20px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì£¼ì˜: ì‹œê¸‰ ì„¤ì • í›„ì—ëŠ” ë°˜ë“œì‹œ ì¢Œì¸¡ ìƒë‹¨ì˜ 'ë°ì´í„° ì €ì¥' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì…”ì•¼ ë°˜ì˜ë©ë‹ˆë‹¤.
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="output-area" class="container">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="employee-detail-view" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ’° ê¸‰ì—¬ ì •ë³´</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="employee-info"><span id="current-employee-name">ì´íš¨ì„±</span> ë‹˜ì˜ ëª…ì„¸</div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-box">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ê·¼ë¬´ ëŒ€ìƒ ì›”:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="target-month">2025ë…„ 1ì›”</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ì´ ê·¼ë¬´ ì‹œê°„:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="total-time">0ì‹œê°„ 0ë¶„</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ì´ ì¶œê·¼ ì¼ìˆ˜:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="total-days">0ì¼</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="summary-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ì ìš© ë¶„ë‹¹ ê¸ˆì•¡:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="rate-per-min-display">0ì›</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <table id="detail-pay-table">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><th>ê¸‰ì—¬ì•¡</th><td id="pay-amount">0ì›</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><th>ì‹ëŒ€ (ì¶œê·¼ì¼ìˆ˜ x 8,000ì›)</th><td id="meal-allowance">0ì›</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr class="total-pay-row"><th>ì´ ì§€ê¸‰ í•©ê³„</th><td id="total-pay">0ì›</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="settings-view" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: 1.5em; color: var(--header-color); font-weight: 800;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ì‹œê¸‰ ì„¤ì •ì„ ìœ„í•œ ì˜ì—­ì…ë‹ˆë‹¤.
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="saveModal" class="modal">
Â  Â  Â  Â  <div class="modal-content">
Â  Â  Â  Â  Â  Â  <h3>âœ… ë°ì´í„° ì €ì¥ ì™„ë£Œ</h3>
Â  Â  Â  Â  Â  Â  <p>ì§ì› ê·¼ë¬´ ê¸°ë¡ ë° ì‹œê¸‰ ì„¤ì •ì´<br>ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
Â  Â  Â  Â  Â  Â  <button class="modal-button" onclick="closeModal()">í™•ì¸</button>
Â  Â  Â  Â  </div>
Â  Â  </div>


Â  Â  <script>
Â  Â  Â  Â  // ìƒìˆ˜ ì •ì˜
Â  Â  Â  Â  const EMPLOYEES = ['ì´íš¨ì„±', 'ì •ìˆ˜ì—°', 'ì‹ ì¤€ì‹', 'ë°•ìˆ˜í˜„'];
Â  Â  Â  Â  const MEAL_ALLOWANCE = 8000;
Â  Â  Â  Â  const WEEKDAYS = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
Â  Â  Â  Â  const YEARS = [2025, 2026, 2027];
Â  Â  Â  Â Â 
Â  Â  Â  Â  const EMPLOYEE_DATA_KEY_PREFIX = 'payrollData_';Â 
Â  Â  Â  Â  const RATES_STORAGE_KEY = 'annualPayRates';Â 

Â  Â  Â  Â  let employeeData = {};
Â  Â  Â  Â  let yearlyRates = {};
Â  Â  Â  Â  let calculatedResults = {};
Â  Â  Â  Â  let currentEmployee = EMPLOYEES[0];
Â  Â  Â  Â  let currentYear = 2025;
Â  Â  Â  Â  let currentMonth = 1;

Â  Â  Â  Â  // --- CORE UTILITIES ---
Â  Â  Â  Â  function getDaysInMonth(year, month) {
Â  Â  Â  Â  Â  Â  return new Date(year, month, 0).getDate();
Â  Â  Â  Â  }
Â  Â  Â  Â  function calculatePayPerMinute(hourlyWage) {
Â  Â  Â  Â  Â  Â  if (!hourlyWage || hourlyWage <= 0) return 0;
Â  Â  Â  Â  Â  Â  const rate = hourlyWage / 60;
Â  Â  Â  Â  Â  Â  return Math.trunc(rate * 10) / 10;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- DATA MANAGEMENT ---
Â  Â  Â  Â  function loadAndInitRates() {
Â  Â  Â  Â  Â  Â  yearlyRates = {};
Â  Â  Â  Â  Â  Â  const savedRates = localStorage.getItem(RATES_STORAGE_KEY);
Â  Â  Â  Â  Â  Â  const defaultHourly = { 2025: 10030, 2026: 11000, 2027: 12000 };Â 

Â  Â  Â  Â  Â  Â  YEARS.forEach(year => {
Â  Â  Â  Â  Â  Â  Â  Â  let hourly = defaultHourly[year] || 0;
Â  Â  Â  Â  Â  Â  Â  Â  if (savedRates) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const parsedRates = JSON.parse(savedRates);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (parsedRates[year] && parsedRates[year].hourly) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hourly = parsedRates[year].hourly;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) { }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  yearlyRates[year] = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hourly: hourly,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  payPerMinute: calculatePayPerMinute(hourly)
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function initializeData(year) {
Â  Â  Â  Â  Â  Â  employeeData = {};
Â  Â  Â  Â  Â  Â  calculatedResults = {};

Â  Â  Â  Â  Â  Â  // 1. ì´ˆê¸° ë°ì´í„° êµ¬ì¡° ìƒì„± (GitHub Pagesì—ì„œ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ê°€ ë¹„ì–´ìˆì–´ë„ êµ¬ì¡°ë¥¼ ë§Œë“¦)
Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(name => {
Â  Â  Â  Â  Â  Â  Â  Â  employeeData[name] = {};
Â  Â  Â  Â  Â  Â  Â  Â  calculatedResults[name] = {};
Â  Â  Â  Â  Â  Â  Â  Â  for (let month = 1; month <= 12; month++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const daysInMonth = getDaysInMonth(year, month);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  calculatedResults[name][month] = { totalMinutes: 0, totalDays: 0, totalPay: 0 };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  employeeData[name][month] = {};
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (let day = 1; day <= daysInMonth; day++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  employeeData[name][month][day] = { start: '', end: '' };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // 2. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë°ì´í„° ë¡œë“œ (ë¡œì»¬ í™˜ê²½ì—ì„œë§Œ ë™ì‘)
Â  Â  Â  Â  Â  Â  const savedData = localStorage.getItem(EMPLOYEE_DATA_KEY_PREFIX + year);
Â  Â  Â  Â  Â  Â  if (savedData) {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const parsedData = JSON.parse(savedData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(parsedData).forEach(employee => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (employeeData[employee]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Object.assignì„ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ì˜ ì´ˆê¸°í™”ëœ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë°ì´í„° ë³‘í•©
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.keys(parsedData[employee]).forEach(month => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (employeeData[employee][month]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.assign(employeeData[employee][month], parsedData[employee][month]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(year + "ë…„ ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", e);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- MODAL FUNCTIONS ---
Â  Â  Â  Â  function openModal() {
Â  Â  Â  Â  Â  Â  const modal = document.getElementById('saveModal');
Â  Â  Â  Â  Â  Â  modal.style.display = 'flex';
Â  Â  Â  Â  }

Â  Â  Â  Â  function closeModal() {
Â  Â  Â  Â  Â  Â  const modal = document.getElementById('saveModal');
Â  Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- DATA SAVE FUNCTION (Modified) ---
Â  Â  Â  Â  function saveData() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // ë°ì´í„° ì €ì¥ ìì²´ëŠ” localStorageë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ GitHub Pagesì—ì„œë„ ì‘ë™í•¨ (ì ‘ì†í•œ ë¸Œë¼ìš°ì €ì— ì €ì¥ë¨)
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(EMPLOYEE_DATA_KEY_PREFIX + currentYear, JSON.stringify(employeeData));
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(RATES_STORAGE_KEY, JSON.stringify(yearlyRates));

Â  Â  Â  Â  Â  Â  Â  Â  // ì €ì¥ ì„±ê³µ ì‹œ ëª¨ë‹¬ ì°½ í‘œì‹œ
Â  Â  Â  Â  Â  Â  Â  Â  openModal();Â 

Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •(í”„ë¼ì´ë²„ì‹œ ëª¨ë“œ)ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
Â  Â  Â  Â  Â  Â  Â  Â  console.error("ë°ì´í„° ì €ì¥ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", e);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- VIEW CONTROL UTILITIES ---
Â  Â  Â  Â  function hideAllViews() {
Â  Â  Â  Â  Â  Â  // ì¢Œì¸¡ ë·°
Â  Â  Â  Â  Â  Â  document.getElementById('employee-input-view').classList.remove('active');
Â  Â  Â  Â  Â  Â  document.getElementById('settings-input-view').classList.remove('active');
Â  Â  Â  Â  Â  Â  document.getElementById('summary-view-content').classList.remove('active');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ìš°ì¸¡ ë·°
Â  Â  Â  Â  Â  Â  document.getElementById('employee-detail-view').classList.remove('active');
Â  Â  Â  Â  Â  Â  document.getElementById('settings-view').classList.remove('active');
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- DROPDOWN SETUP ---
Â  Â  Â  Â  function createMonthSelect(targetSelectId, initialMonth) {
Â  Â  Â  Â  Â  Â  const select = document.getElementById(targetSelectId);
Â  Â  Â  Â  Â  Â  select.innerHTML = '';
Â  Â  Â  Â  Â  Â  for (let month = 1; month <= 12; month++) {
Â  Â  Â  Â  Â  Â  Â  Â  const option = document.createElement('option');
Â  Â  Â  Â  Â  Â  Â  Â  option.value = month;
Â  Â  Â  Â  Â  Â  Â  Â  option.textContent = `${month}ì›”`;
Â  Â  Â  Â  Â  Â  Â  Â  select.appendChild(option);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  select.value = initialMonth;
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- CALCULATIONS ---
Â  Â  Â  Â  function calculatePay(employee, month) {
Â  Â  Â  Â  Â  Â  let totalMinutes = 0;
Â  Â  Â  Â  Â  Â  let totalDays = 0;
Â  Â  Â  Â  Â  Â  const daysInMonth = getDaysInMonth(currentYear, month);
Â  Â  Â  Â  Â  Â  const monthData = employeeData[employee][month];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const currentRate = yearlyRates[currentYear]?.payPerMinute || 0;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  for (let day = 1; day <= daysInMonth; day++) {
Â  Â  Â  Â  Â  Â  Â  Â  const startInput = monthData[day]?.start;
Â  Â  Â  Â  Â  Â  Â  Â  const endInput = monthData[day]?.end;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let dailyMinutes = 0;

Â  Â  Â  Â  Â  Â  Â  Â  if (startInput && endInput && startInput.match(/^\d{1,2}:\d{2}$/) && endInput.match(/^\d{1,2}:\d{2}$/)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const [startHour, startMinute] = startInput.split(':').map(Number);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const [endHour, endMinute] = endInput.split(':').map(Number);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const startTimeInMin = startHour * 60 + startMinute;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const endTimeInMin = endHour * 60 + endMinute;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dailyMinutes = endTimeInMin - startTimeInMin;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (dailyMinutes > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalMinutes += dailyMinutes;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalDays++;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (employee === currentEmployee && month === currentMonth && document.getElementById('employee-input-view').classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const hours = Math.floor(dailyMinutes / 60);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const minutes = dailyMinutes % 60;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â document.getElementById(`daily-work-${day}`).textContent = `${hours}h ${minutes}m`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (employee === currentEmployee && month === currentMonth && document.getElementById('employee-input-view').classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â document.getElementById(`daily-work-${day}`).textContent = 'ERROR';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else if (employee === currentEmployee && month === currentMonth && document.getElementById('employee-input-view').classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById(`daily-work-${day}`).textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const payAmount = Math.round(totalMinutes * currentRate);
Â  Â  Â  Â  Â  Â  const mealAllowance = totalDays * MEAL_ALLOWANCE;
Â  Â  Â  Â  Â  Â  const totalPay = payAmount + mealAllowance;

Â  Â  Â  Â  Â  Â  calculatedResults[employee][month] = {Â 
Â  Â  Â  Â  Â  Â  Â  Â  totalMinutes: totalMinutes,Â 
Â  Â  Â  Â  Â  Â  Â  Â  totalDays: totalDays,Â 
Â  Â  Â  Â  Â  Â  Â  Â  totalPay: totalPay
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  // ê·¼íƒœ ì…ë ¥ ë·°ê°€ í™œì„±í™”ëœ ê²½ìš°ì—ë§Œ ìš°ì¸¡ ìƒì„¸ ë·° ì—…ë°ì´íŠ¸
Â  Â  Â  Â  Â  Â  if (employee === currentEmployee && month === currentMonth && document.getElementById('employee-input-view').classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  Â  updateEmployeeDetailView(totalMinutes, totalDays, payAmount, mealAllowance, totalPay, currentRate);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return { totalMinutes, totalDays, totalPay }; // ì¢…í•© ìš”ì•½ì„ ìœ„í•´ ê²°ê³¼ ë°˜í™˜
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- UI UPDATES ---
Â  Â  Â  Â  function updateEmployeeDetailView(totalMinutes, totalDays, payAmount, mealAllowance, totalPay, currentRate) {
Â  Â  Â  Â  Â  Â  const totalHours = Math.floor(totalMinutes / 60);
Â  Â  Â  Â  Â  Â  const remainingMinutes = totalMinutes % 60;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('target-month').textContent = `${currentYear}ë…„ ${currentMonth}ì›”`;
Â  Â  Â  Â  Â  Â  document.getElementById('rate-per-min-display').textContent = `${currentRate.toFixed(1)}ì›`;
Â  Â  Â  Â  Â  Â  document.getElementById('total-time').textContent = `${totalHours}ì‹œê°„ ${remainingMinutes}ë¶„`;
Â  Â  Â  Â  Â  Â  document.getElementById('total-days').textContent = `${totalDays}ì¼`;

Â  Â  Â  Â  Â  Â  document.getElementById('pay-amount').textContent = `${payAmount.toLocaleString()}ì›`;
Â  Â  Â  Â  Â  Â  document.getElementById('meal-allowance').textContent = `${mealAllowance.toLocaleString()}ì›`;
Â  Â  Â  Â  Â  Â  document.getElementById('total-pay').textContent = `${totalPay.toLocaleString()}ì›`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateCalendar() {
Â  Â  Â  Â  Â  Â  const daysInMonth = getDaysInMonth(currentYear, currentMonth);
Â  Â  Â  Â  Â  Â  const timeInputTableBody = document.getElementById('time-input-table').querySelector('tbody');
Â  Â  Â  Â  Â  Â  timeInputTableBody.innerHTML = '';

Â  Â  Â  Â  Â  Â  const currentMonthData = employeeData[currentEmployee][currentMonth];

Â  Â  Â  Â  Â  Â  for (let day = 1; day <= daysInMonth; day++) {
Â  Â  Â  Â  Â  Â  Â  Â  const row = timeInputTableBody.insertRow();
Â  Â  Â  Â  Â  Â  Â  Â  const start = currentMonthData[day]?.start || '';
Â  Â  Â  Â  Â  Â  Â  Â  const end = currentMonthData[day]?.end || '';

Â  Â  Â  Â  Â  Â  Â  Â  const date = new Date(currentYear, currentMonth - 1, day);
Â  Â  Â  Â  Â  Â  Â  Â  const dayOfWeekIndex = date.getDay();
Â  Â  Â  Â  Â  Â  Â  Â  const dayOfWeekText = WEEKDAYS[dayOfWeekIndex];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let dayClass = '';
Â  Â  Â  Â  Â  Â  Â  Â  if (dayOfWeekIndex === 0) { dayClass = 'sun'; }Â 
Â  Â  Â  Â  Â  Â  Â  Â  else if (dayOfWeekIndex === 6) { dayClass = 'sat'; }

Â  Â  Â  Â  Â  Â  Â  Â  row.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${day}ì¼</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="day-label ${dayClass}">${dayOfWeekText}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td><input type="text" data-day="${day}" data-type="start" value="${start}" oninput="handleInputChange(this)"></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td><input type="text" data-day="${day}" data-type="end" value="${end}" oninput="handleInputChange(this)"></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td id="daily-work-${day}" style="font-weight: 500;"></td>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  calculatePay(currentEmployee, currentMonth);
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateSettingsView() {
Â  Â  Â  Â  Â  Â  const tableBody = document.getElementById('settings-table-body');
Â  Â  Â  Â  Â  Â  tableBody.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  YEARS.forEach(year => {
Â  Â  Â  Â  Â  Â  Â  Â  const row = tableBody.insertRow();
Â  Â  Â  Â  Â  Â  Â  Â  const data = yearlyRates[year];

Â  Â  Â  Â  Â  Â  Â  Â  row.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${year}ë…„</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td><input type="number" data-year="${year}" value="${data.hourly}" oninput="handleRateChange(this)"></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td id="rate-per-min-${year}">${data.payPerMinute.toFixed(1)}ì›</td>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function updateSummaryView() {
Â  Â  Â  Â  Â  Â  const summaryBody = document.getElementById('summary-table-body');
Â  Â  Â  Â  Â  Â  summaryBody.innerHTML = '';

Â  Â  Â  Â  Â  Â  let grandTotalMinutes = 0;
Â  Â  Â  Â  Â  Â  let grandTotalDays = 0;
Â  Â  Â  Â  Â  Â  let grandTotalPay = 0;

Â  Â  Â  Â  Â  Â  document.getElementById('summary-month-display').textContent = `${currentYear}ë…„ ${currentMonth}ì›”`;

Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(employee => {
Â  Â  Â  Â  Â  Â  Â  Â  const result = calculatedResults[employee][currentMonth];

Â  Â  Â  Â  Â  Â  Â  Â  grandTotalMinutes += result.totalMinutes;
Â  Â  Â  Â  Â  Â  Â  Â  grandTotalDays += result.totalDays;
Â  Â  Â  Â  Â  Â  Â  Â  grandTotalPay += result.totalPay;

Â  Â  Â  Â  Â  Â  Â  Â  const row = summaryBody.insertRow();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const totalHours = Math.floor(result.totalMinutes / 60);
Â  Â  Â  Â  Â  Â  Â  Â  const remainingMinutes = result.totalMinutes % 60;

Â  Â  Â  Â  Â  Â  Â  Â  row.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${employee}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${totalHours}ì‹œê°„ ${remainingMinutes}ë¶„</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${result.totalDays}ì¼</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${result.totalPay.toLocaleString()}ì›</td>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const totalRow = summaryBody.insertRow();
Â  Â  Â  Â  Â  Â  totalRow.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <td>ì´ í•©ê³„</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td>${Math.floor(grandTotalMinutes / 60)}ì‹œê°„ ${grandTotalMinutes % 60}ë¶„</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td>${grandTotalDays}ì¼</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td>${grandTotalPay.toLocaleString()}ì›</td>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- HANDLERS ---
Â  Â  Â  Â  function handleInputChange(inputElement) {
Â  Â  Â  Â  Â  Â  const day = Number(inputElement.getAttribute('data-day'));
Â  Â  Â  Â  Â  Â  const type = inputElement.getAttribute('data-type');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ì…ë ¥ê°’ ì €ì¥
Â  Â  Â  Â  Â  Â  employeeData[currentEmployee][currentMonth][day][type] = inputElement.value;

Â  Â  Â  Â  Â  Â  // ê¸‰ì—¬ ì¬ê³„ì‚° ë° ì—…ë°ì´íŠ¸
Â  Â  Â  Â  Â  Â  calculatePay(currentEmployee, currentMonth);
Â  Â  Â  Â  }

Â  Â  Â  Â  function handleRateChange(inputElement) {
Â  Â  Â  Â  Â  Â  const year = Number(inputElement.getAttribute('data-year'));
Â  Â  Â  Â  Â  Â  const newHourly = Number(inputElement.value);

Â  Â  Â  Â  Â  Â  const newRatePerMin = calculatePayPerMinute(newHourly);
Â  Â  Â  Â  Â  Â  yearlyRates[year] = {
Â  Â  Â  Â  Â  Â  Â  Â  hourly: newHourly,
Â  Â  Â  Â  Â  Â  Â  Â  payPerMinute: newRatePerMin
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  document.getElementById(`rate-per-min-${year}`).textContent = `${newRatePerMin.toFixed(1)}ì›`;

Â  Â  Â  Â  Â  Â  if (year === currentYear) {
Â  Â  Â  Â  Â  Â  Â  Â  // ì‹œê¸‰ì´ ë³€ê²½ë˜ë©´ ëª¨ë“  ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ë‹¤ì‹œ ê³„ì‚°
Â  Â  Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(employee => calculatePay(employee, currentMonth));
Â  Â  Â  Â  Â  Â  Â  Â  // ì¢…í•© ìš”ì•½ ë·°ê°€ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ ì—…ë°ì´íŠ¸
Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('summary-view-content').classList.contains('active')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSummaryView();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- TAB & DROPDOWN CONTROLLERS ---
Â  Â  Â  Â Â 
Â  Â  Â  Â  function changeYear() {
Â  Â  Â  Â  Â  Â  const newYear = Number(document.getElementById('year-select').value);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (newYear !== currentYear) {
Â  Â  Â  Â  Â  Â  Â  Â  currentYear = newYear;
Â  Â  Â  Â  Â  Â  Â  Â  initializeData(currentYear);
Â  Â  Â  Â  Â  Â  Â  Â  updateCalendar();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function changeMonth() {
Â  Â  Â  Â  Â  Â  currentMonth = Number(document.getElementById('month-select').value);
Â  Â  Â  Â  Â  Â  updateCalendar();
Â  Â  Â  Â  }

Â  Â  Â  Â  function changeSummaryYear() {
Â  Â  Â  Â  Â  Â  currentYear = Number(document.getElementById('summary-year-select').value);
Â  Â  Â  Â  Â  Â  initializeData(currentYear);Â 
Â  Â  Â  Â  Â  Â  // ë°ì´í„° ë¡œë“œ í›„ ëª¨ë“  ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ê³„ì‚°í•˜ì—¬ calculatedResultsë¥¼ ì—…ë°ì´íŠ¸
Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(employee => calculatePay(employee, currentMonth));
Â  Â  Â  Â  Â  Â  updateSummaryView();
Â  Â  Â  Â  }

Â  Â  Â  Â  function changeSummaryMonth() {
Â  Â  Â  Â  Â  Â  currentMonth = Number(document.getElementById('summary-month-select').value);
Â  Â  Â  Â  Â  Â  // ì›”ì´ ë³€ê²½ë˜ë©´ ëª¨ë“  ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ê³„ì‚°
Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(employee => calculatePay(employee, currentMonth));
Â  Â  Â  Â  Â  Â  updateSummaryView();
Â  Â  Â  Â  }


Â  Â  Â  Â  // ì§ì› íƒ­ ë³€ê²½
Â  Â  Â  Â  function changeEmployee(employeeName) {
Â  Â  Â  Â  Â  Â  currentEmployee = employeeName;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
Â  Â  Â  Â  Â  Â  document.querySelector(`.tab-button[onclick="changeEmployee('${employeeName}')"]`).classList.add('active');

Â  Â  Â  Â  Â  Â  hideAllViews();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ì¢Œì¸¡: ê·¼íƒœ ì…ë ¥ í¼ (input-view)
Â  Â  Â  Â  Â  Â  document.getElementById('employee-input-view').classList.add('active');Â 
Â  Â  Â  Â  Â  Â  // ìš°ì¸¡: ëª…ì„¸í‘œ (detail-view)
Â  Â  Â  Â  Â  Â  document.getElementById('employee-detail-view').classList.add('active');Â 

Â  Â  Â  Â  Â  Â  // ë“œë¡­ë‹¤ìš´ ë™ê¸°í™”
Â  Â  Â  Â  Â  Â  document.getElementById('year-select').value = currentYear;
Â  Â  Â  Â  Â  Â  document.getElementById('month-select').value = currentMonth;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('current-employee-name').textContent = employeeName;
Â  Â  Â  Â  Â  Â  updateCalendar();
Â  Â  Â  Â  }

Â  Â  Â  Â  // ì„¤ì • íƒ­ í‘œì‹œ
Â  Â  Â  Â  function showSettings() {
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
Â  Â  Â  Â  Â  Â  document.querySelector(`.tab-button[onclick="showSettings()"]`).classList.add('active');

Â  Â  Â  Â  Â  Â  hideAllViews();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ì¢Œì¸¡: ì„¤ì • ì…ë ¥ í¼ (settings-input-view)
Â  Â  Â  Â  Â  Â  document.getElementById('settings-input-view').classList.add('active');Â 
Â  Â  Â  Â  Â  Â  // ìš°ì¸¡: ì„¤ì • ë·° (settings-view)
Â  Â  Â  Â  Â  Â  document.getElementById('settings-view').classList.add('active');

Â  Â  Â  Â  Â  Â  updateSettingsView();
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ì¢…í•© ìš”ì•½ íƒ­ í‘œì‹œ
Â  Â  Â  Â  function showSummary() {
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
Â  Â  Â  Â  Â  Â  document.querySelector('.summary-tab').classList.add('active');

Â  Â  Â  Â  Â  Â  hideAllViews();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ì¢Œì¸¡: ì¢…í•© ìš”ì•½ í…Œì´ë¸” (summary-view-content)
Â  Â  Â  Â  Â  Â  document.getElementById('summary-view-content').classList.add('active');Â 
Â  Â  Â  Â  Â  Â  // ìš°ì¸¡: ë¹„í™œì„±í™” ìœ ì§€

Â  Â  Â  Â  Â  Â  // ë“œë¡­ë‹¤ìš´ ë™ê¸°í™” ë° ê°•ì œ ì¬ê³„ì‚°
Â  Â  Â  Â  Â  Â  document.getElementById('summary-year-select').value = currentYear;
Â  Â  Â  Â  Â  Â  document.getElementById('summary-month-select').value = currentMonth;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // í‘œì‹œ ì „ì— ëª¨ë“  ì§ì› ë°ì´í„°ë¥¼ ê³„ì‚°
Â  Â  Â  Â  Â  Â  EMPLOYEES.forEach(employee => calculatePay(employee, currentMonth));
Â  Â  Â  Â  Â  Â  updateSummaryView();
Â  Â  Â  Â  }


Â  Â  Â  Â  // --- INITIALIZATION ---
Â  Â  Â  Â  window.onload = function() {
Â  Â  Â  Â  Â  Â  loadAndInitRates();
Â  Â  Â  Â  Â  Â  initializeData(currentYear);

Â  Â  Â  Â  Â  Â  // ì´ˆê¸° ë“œë¡­ë‹¤ìš´ ì„¤ì •
Â  Â  Â  Â  Â  Â  document.getElementById('year-select').value = currentYear;Â 
Â  Â  Â  Â  Â  Â  document.getElementById('summary-year-select').value = currentYear;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  createMonthSelect('month-select', currentMonth);
Â  Â  Â  Â  Â  Â  createMonthSelect('summary-month-select', currentMonth);

Â  Â  Â  Â  Â  Â  // ì´ˆê¸° ë·° ì„¤ì •ì„ ì¢…í•© ìš”ì•½ìœ¼ë¡œ ë³€ê²½
Â  Â  Â  Â  Â  Â  showSummary();Â 
Â  Â  Â  Â  };
Â  Â  </script>
</body>
</html>

